# -*- coding: utf-8 -*-
"""
Created on  Wed Nov 23 23:09:16 2016
Finished on Thu Nov 24 00:55:58 2016

Grupo: Miguel Angelo, Thiago Nascimento, Elvis Nobrega, Grazielle Alessa
"""

from scipy import interpolate
import matplotlib.pyplot as plt
import numpy as np

eye = np.array([
    [195, 119],
    [188, 126],
    [181, 127],
    [176, 117],
    [178, 109],
    [183, 102],
    [192, 100],
    [197, 108],
    [195, 119]
  ])

data = [
  [
    [114, 104],
    [113,  95],
    [126,  69],
    [144,  61],
    [158,  70],
  ],
  [
    [139, 120],
    [142, 117],
    [146, 115],
    [150, 117],
    [154, 124],
  ],
  [
    [139, 61],
    [144, 52],
    [149, 44],
  ],
  [
    [149, 45],
    [161, 59],
    [177, 71],
  ],
  [
    [174, 73],
    [185, 70],
    [203, 90],
    [197, 114],
  ],
  eye,
  eye + [-189 + 138, - 99 + 85],
  [
    [150, 44],
    [175, 41],
    [233, 59],
    [265, 103],
  ],
  [
    [150, 44],
    [134, 39],
    [120, 42],
    [116, 49],
  ],
  [
    [150, 44],
    [144, 31],
    [149, 22],
    [159, 20],
  ],
  [
    [150, 44],
    [155, 31],
    [166, 28],
    [175, 30],
  ],
  [
    [204, 93],
    [217, 103],
    [232, 108],
  ],
  [
    [227, 114],
    [231, 108],
    [252, 100],
    [266, 105],
    [276, 132],
    [261, 164],
    [239, 171],
    [217, 160],
  ],
  [
    [117, 81],
    [90, 90],
    [83, 99],
    [81, 114],
    [106, 157],
    [147, 177],
    [153, 179],
    [159, 185],
    [164, 181],
    [167, 180],
    [179, 181],
    [192, 179],
  ],
  [
    [122, 125],
    [144, 138],
    [171, 138],
  ],
  [
    [128, 130],
    [129, 149],
    [138, 163],
    [147, 167],
    [159, 159],
    [164, 147],
    [171, 140],
  ],
  [
    [134, 157],
    [147, 153],
    [159, 156],
  ],
  [
    [190, 183],
    [198, 173],
    [209, 173],
    [226, 180],
    [244, 189],
  ],
  [
    [214, 174],
    [221, 172],
    [227, 169],
  ],
]

plt.figure()
plt.title('Spline do personagem')
plt.gca().set_aspect('equal', adjustable='box')
for item in data:
    m = np.array(item)
    x = m[:, 0]
    y = -m[:, 1]
    tck, u = interpolate.splprep([x, y], s=0, k=2)
    unew = np.arange(0, 1.01, 0.01)
    out = interpolate.splev(unew, tck)
    #plt.plot(x, y, 'xr')
    plt.plot(out[0], out[1], 'k')
plt.show()
